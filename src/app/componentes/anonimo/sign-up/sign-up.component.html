<div class="signup-container">
  <div class="signup-left">
    <form [formGroup]="signInForm" (ngSubmit)="onSubmit()">
    <mat-card style="background-color: #8981c3;">
      <mat-card-header class="outer">
        <mat-card-title class="inner"><h2 id="h2">Registrar usuario</h2></mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <div class="row">
            <mat-form-field class="full-width">
              <input matInput placeholder="Nombre" formControlName="nombre">
              @if (signInForm.controls['nombre'].hasError('required')) {
                <mat-error class="marginbot">Nombre es <strong>requerido</strong></mat-error>
              }
            </mat-form-field>
        </div>
        <div class="row">
            <mat-form-field class="full-width">
              <input matInput placeholder="Apellidos" formControlName="apellidos">
              @if (signInForm.controls['apellidos'].hasError('required')) {
                <mat-error class="marginbot">Apellidos es <strong>requerido</strong></mat-error>
              }
            </mat-form-field>
        </div>

        <div class="row">
          <div class="col">
            <mat-form-field class="full-width">
              <input matInput placeholder="Nombre de usuario" formControlName="userName"/>
              @if (signInForm.controls['userName'].hasError('required')) {
                <mat-error class="marginbot">Nombre de usuario es <strong>requerido</strong></mat-error>
              }
            </mat-form-field>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <mat-form-field class="full-width">
              <input matInput placeholder="Email" formControlName="email" type="email"/>
              @if (signInForm.controls['email'].hasError('required')) {
                <mat-error class="marginbot">Email es <strong>requerido</strong></mat-error>
              }

              @if (signInForm.controls['email'].hasError('email')){
                <mat-error class="marginbot">El email no es <strong>válido</strong></mat-error>
              }
            </mat-form-field>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <mat-form-field class="full-width">
              <mat-label>Contraseña</mat-label>
              <input matInput #password maxlength="8"  [type]="hide ? 'password' : 'text'" formControlName="password">
              <mat-hint align="end">{{password.value.length}} / 8</mat-hint>
              <button mat-icon-button type="button" matSuffix (click)="clickEvent($event)" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>

              @if (signInForm.controls['password'].hasError('required')) {
                <mat-error class="marginbot">La contraseña es <strong>requerido</strong></mat-error>
              }
            </mat-form-field>
          </div>
        </div>
      </mat-card-content>

      <mat-card-actions class="outer">
        <button style="background-color: #7168b5; color:#c5c4e3 ;" mat-flat-button type="submit" class="full-width" [disabled]="!signInForm.valid" >Enviar</button>
        <!-- [disabled]="!signInForm.valid" -->
      </mat-card-actions>
    </mat-card>
  </form>
  </div>
  <div class="signup-right">
    <button mat-icon-button class="close-button" routerLink="/">
      <mat-icon>close</mat-icon>
    </button>
    <h1>
      Crea una cuenta y sube tu fotografía.
      <br>
      ¡Tu mirada puede ser la próxima ganadora!
    </h1>
  </div>
</div>
